#!@PREFIX@/sbin/runscript
# Copyright 2007-2009 Roy Marples <roy@marples.name>
# All rights reserved. Released under the 2-clause BSD license.

depend()
{
	use hostname
	before bootmisc logger
	keyword noprefix
}

start()
{
	[ -e /etc/sysctl.conf ] || return 0
	local retval=0 var= comments=
	ebegin "Configuring kernel parameters"
	while read var comments; do
		case "$var" in
			""|"#"*) continue;;
		esac
		sysctl -w "$var" >/dev/null || retval=1
	done < /etc/sysctl.conf
	eend $retval "Some errors were encountered"
}
