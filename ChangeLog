commit 90ecf23310111d06086454f9ee709bdafb257056
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: do not chown or chmod symbolic links
    
    This is another security fix. If you use chown() or chmod() on a
    symbolic link, it affects the referenced file, not the symbolic link
    itself.
    
    X-Gentoo-Bug: 540006
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=540006

commit 55a3746d80c77e1ba3fd0d55151a4adffea85db8
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    increment version

commit 8f7351cf7f31cbf005d2dd32a280d0bb0dcea5d1
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update ChangeLog

commit 52220d5df177353b222c16bd941261501fce9ddb
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    ChangeLog: show authors and committers

commit d5dfc6d529115a3216e70491173468e8edfb1d63
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    local: fix redirections
    
    The local service now redirects stdout and stderr for the scripts it
    runs to /dev/null unless it is run in verbose mode.
    
    X-Gentoo-Bug: 537444
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=537444

commit 7f33410e5d68de990ebef84c76924e485d933e80
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    typo fix

commit 56993950f26026cc0bce20ae32abc289540eb361
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: security fix for -m and -o options
    
    Do not change permissions on the target if it is a file and has multiple
    hard links. This is necessary because a hard link can be an attack
    vector to gain privilege escalation.
    
    X-Gentoo-Bug: 540006
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=540006

commit e3999c15ad26816934d0ea0792f06c5666bfc9ee
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    bump version to 0.13.10

commit 4a9c450ec2e73e66ceeba8c9e6ca9496cf3363f4
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    update change log

commit bb4c14999c569781c7289269949b205955f376bb
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add nfsclient to netmount use dependencies
    
    X-Gentoo-Bug: 537996
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=537996

commit 252422dcf0c408742cdb039a8a7eb1732ea15b78
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start openrc-0.13.9

commit a3a64ac94eaadb38dcb78f8c88437d8a1335fa07
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    update ChangeLog

commit 1a2f45a4c540c5ff29b8615e7241c60f36637608
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    tmpfiles.dev: pass --boot to tmpfiles.sh so kmod works properly

commit 34b55f31b357af37b999bc3e619c332fc5be1938
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start work on 0.13.8

commit e0c746e938f7f22dc270cd0802ccfd2803ca7a8c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Create ChangeLog

commit 50329eee7a126dd1e961d8fb823e5f35f515a143
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add description for cgroup_cleanup
    
    X-Gentoo-Bug: 535184
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=535184

commit fb81028121471c32bbcc88a61956baa7264ff090
Author: Doug Freed <dwfreed@mtu.edu>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fix double free of pidfile
    
    This fixes a double free of the pidfile variable. For discussion of this
    issue, see the bug.
    
    X-Gentoo-Bug: 531600
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=531600

commit 50e99aa30aee155865842e0a198fda473b647096
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Do not call the shell to evaluate CHANGELOG_LIMIT
    
    The git log command understands dates such as "1 year ago", so there is
    no need to use the date command.

commit b177b7924250058d1ad9f8d758dcf8182099341d
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add target to create ChangeLog
    
    This was added by request because some users are requesting a ChangeLog.
    
    This fixes #29.

commit 7009f6687289753e6b8207c32c1294fbe48b65c2
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start working on 0.13.7

commit 2eb0ea9afbba584fc4c5ee0feefa9ae6a3d3278d
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Make sysfs behave like netmount and localmount
    
    sysfs now mounts all related sysfs file systems and returns success,
    like netmount and localmount.
    
    Also, we now check to make sure the cgroups are not mounted before we
    mount them.
    
    X-Gentoo-Bug: 530138
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=530138

commit 534031fc7ac3795cc42ea6f54b7ee1c304ee53de
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Start work on 0.13.6

commit 6b85d4288c9409f8870396b8026862463e732bf8
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    devfs: optionally add missing symbolic links
    
    If symbolic links for /dev/{fd,stdin,stdout,stderr,core} do not exist
    once /dev is mounted, we should create them.

commit dec899b946281c7c12829f3300d533f40e468c20
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Start work on 0.13.5

commit c9f6e2a6c8ca4e258f1b577010586668759b361a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    netmount: unmount nfs file systems

commit e1a4aef3e551371a83a38eb1a275f10b0e9e165e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start work on 0.13.4

commit cb2c45a3c092de617fa037089599e624a758aea9
Author: Alexander Vershilov <alexander.vershilov@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Fix incorrect handling of chroot option.
    Fixes #28.
    
    X-Gentoo-Bug: #527370
    X-Gentoo-Bug-Url: https://bugs.gentoo.org/show_bug.cgi?id=527370

commit d92eca3988a1756e12c22c99a5e17f525ebffc6c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Start work on 0.13.3

commit 5bdd08e0e74bb071e775c706cf88b7bd7c48a572
Author: Johan Bergstr√∂m <bugs@bergstroem.nu>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Pass ncurses cflags to build
    
    Fixes #25
    Note from William Hubbs:
    The original patch overwrote CFLAGS. I modified this patch to add the
    ncurses cflags to CPPFLAGS instead of overwriting CFLAGS.

commit 8a68dc899e93ff925fac8417148cebbdaa975849
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Fix compile errors created by bundling queue.h

commit 2d1e2552857c51b424704d214c3226d9b2a89ec6
Author: Anthony G. Basile <blueness@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    helpers.h, start-stop-daemon.c: remove uneeded macros
    
    TAILQ_CONCAT, TAILQ_FOREACH_SAFE and LIST_FOREACH_SAFE are defined
    in our bundled queue.h and are no longer required.

commit 6f9fd30edb7f9938cff5efcf33d4f867c9b94def
Author: Anthony G. Basile <blueness@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Bundle <sys/queue.h> from NetBSD
    
    We are bundling this to allow building on musl-based systems since musl
    does not include <sys/queue.h>.

commit e0c32c23dc00d7aff79614129614944f4b1fde92
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Fix all tests for GNU/kFreeBSD
    
    It is necessary to check for both the kernel and c library because
    __FreeBSD_kernel is also defined on native FreeBSD [1].
    
    [1] http://sourceforge.net/p/predef/wiki/OperatingSystems/

commit 4777035d53cc56444865cbeb287e2b5e73d7e901
Author: Gabriele Giacone <1o5g4r8o@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Fix rc_svcdir for GNU/Hurd

commit f049b535b3dfb4becd62143289a0f7804329c72d
Author: Svante Signell <svante.signell@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fix defines for GNU/Hurd

commit 4ba30c5a1bb0571e7d79f30c29525f206bed12e5
Author: Svante Signell <svante.signell@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    add missing files for GNU/Hurd

commit 91734d20be62dfbf7f637df576b70c9f04bae73d
Author: Gabriele Giacone <1o5g4r8o@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Fix rc_svcdir for GNU/kFreeBSD

commit b4194fef43c05cb7c601a2c454687eebf6e77e99
Author: Gabriele Giacone <1o5g4r8o@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add missing files for GNU/kFreeBSD

commit 5f23128f303b98ec882a3afaf7d98087f452a938
Author: Svante Signell <svante.signell@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Fix GNU/kFreeBSD port
    
    Check for __FreeBSD_kernel instead of __GLIBC__ in source files.
    
    note from William Hubbs:
    I was told this is a better check for GNU/kFreeBSD than checking the
    C  library the source is being compiled against.
    GNU/kFreeBSD than checking which library we are using.

commit a634534167f4fb66464568a837ba22a5e0c97410
Author: Anthony G. Basile <blueness@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    einfo.h, rc.h.in: simplify __BEGIN_DECLS logic
    
    There is no need to redefine __BEGIN_DECLS and __END_DECLS.
    We simplify the logic here and avoid undefining these macros.

commit f77006b58e3fffb80208804dae75a69a29414e95
Author: Anthony G. Basile <blueness@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    einfo.h, rc.h.in: ensure __BEGIN_DECLS is defined
    
    Some Standard C Libraries, like musl, don't define __BEGIN_DECLS
    or __END_DECLS.  We add some ifdef magic to ensure these are
    available.

commit ef22f78a480e4f6efb1ae7a9bef0b2ef9c456cd3
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update news file wrt chroot variable

commit 735dc45c392821fbb278ed9cbdefbf8b07b2c750
Author: Alexander Vershilov <alexander.vershilov@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc:look for the pid file in a chroot if defined
    
    X-Gentoo-Bug: 524388
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=524388

commit 0d3fdd3769be9801b800f89ee8ce9d1b816434db
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    runscript.sh: add chroot support
    
    This adds support for a chroot variable which will be passed to the
    start-stop-daemon --chroot switch to runscript.sh when starting a
    daemon. This also needs to be saved so it can be used in locating the
    pid file when stopping the daemon.
    
    X-Gentoo-Bug: 524388
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=524388

commit 5a1a94b2cc7a5ab8e6a7bc75e503d2dd2377558a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add NEWS file

commit a76e5a827c23616760e8aab8870239b66c9fda59
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    add back nfs and nfs4 file systems
    
    Fix gentoo bug #427996 correctly.
    We should attempt to mount the file systems, but not try to start the
    daemons. The previous fix removed mounting the file systems as well as
    starting the daemons.
    
    X-Gentoo-Bug: 508574
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=508574

commit b964de828731b5989fb1117822016cacbfe1ad8a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    man: Document start_inactive and in_background_fake

commit 2c1051ad3fc6d39a6201b676f94b055d00265813
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    typo fix

commit a2187e897e3c0fc9a29adb0b81a57f2b718e74c5
Author: Roy Marples <roy@marples.name>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Use exception-based approach for cgroup/ulimit setup
    
    Note from William Hubbs:
    I spoke with Roy about this, and he pointed out that user-defined
    functions may need the limits applied, so it is better to go with a
    method that uses exceptions to determine which functions apply the
    limits.
    
    X-Gentoo-Bug: 522408
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=522408

commit e8043fe378a410dfa78b1e14162a94cc859a5f69
Author: Rick Farina (ZeroChaos) <sidhayn@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    localmount: unmount aufs branches

commit 082fd53d9e634318e87e2cb1f2ccc7bf12bf09df
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    runscript: move verbose mode setting near debug setting

commit 61fd8b29961650a0132b9cfece80bdf7d16cd05c
Author: Joe M <joe9mail@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    savecache: check permissions on the correct directory

commit 43d727dc3f17bc9a1d020ed2a5684d4a26bb620a
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    tmpfiles.sh: add support for C action
    
    Recursively copies files or directories.  Added by systemd in 849958d1.

commit b8e52583ca590d0f956acea0ec558e84495e3818
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    tmpfiles.sh: add support for + modifier
    
    systemd added support for b+, c+, p+, and L+ in 2e78fa79 and 1554afae to
    remove the target path if it already exists.

commit 1a7af5bbde0108d5d997d96af7e513eb362d71c5
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Start work on 0.13.2

commit 785b61e8725f26b7d7c66b00e6e87597dd7bd735
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    cgroups: fix cgroup subsystem mounting
    
    Originally, we aborted all of the cgroup setup if /sys/fs/cgroup/openrc
    was already mounted. This  caused an issue in lxc containers, so we
    should always allow the subsystems to be mounted.
    
    X-Gentoo-Bug: 520606
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=520606

commit 54ed42503fbae45eb1fa6cf8c09ca1e34c8002cd
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start work on 0.13.1

commit c60ef5c381e9edc7e30be9dcc9cc7e123515452e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    mtab: add verbose level deprecation warnings

commit bee3f8463cbc372c344541077924ddd45ca62ef1
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    README: Clarify devfs changes
    
    I was informed that the previous explanation of the devfs changes could
    be interpreted to mean that we mount a second /dev on top of the one
    that was mounted by the kernel or initramfs. This change makes it clear
    that is not the case.

commit 72b7b32502ff149c0f0f8a7833cfd213f6cf933e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    README: add notes about devfs changes

commit 645f7b6947d9fc44fbece0931a3ddb10d3d79b27
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    adjust deprecation schedule for mtab
    
    - Quiet the deprecation messages forr now
    - update the feature removal schedule to reflect that it will be removed
      in 2.0.

commit 1b26d547a50e2554483bdbfd288fae75fd76bfa0
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Deprecate the mtab service script
    
    The mtab service script is no longer needed on modern Linux systems, so
    we can remove it in 1.0. However, we need to set a deprecation notice
    first.

commit c8018d04a7b238b57a3d74a68e2af02af395f510
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    tmpfiles: fix relabel to run restorecon before chown and chmod

commit 6f080e9c1a2a9b9c308cdc03f9cf782c4ce4d440
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    tmpfiles: Move relabelling before any other calls for device nodes
    
    Device nodes are normally never device_t so this type does not
    have many permissions. After the mknod, the device should have
    its label corrected before any other operations (like chmod).

commit 2c265e13c60be0ed583a871ca12a22e4d379a7c0
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    README: expand information about rc and runscript deprecation

commit 24d82d9ff1ca1ba7085814f8f6530124c117aa5f
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc.conf: document rc_verbose

commit d1e71b07afd4b900894ce4ea45f94010c70e32cc
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Show rc and runscript deprecation warnings in verbose mode
    
    These messages are being changed for this release to show in verbose
    mode because of the number of times they display.

commit 7b744befac2049eb6372a7f0c5420c740aa0a4ea
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    bootmisc: do not run the clean_run function in an LXC container

commit faaaab4bf540b4df011abea5985963dbc9e1646a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    hwclock: fix comments about the usage of clock_hctosys
    
    The clock_hctosys variable should be set to YES if you are not using NTP to
    synchronize your system time; it doesn't have anything to do with the
    kernel configuration.

commit d29db70efb2adfbd200ba4a03fa78653e97893a6
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    sysctl.linux.in: use the --system option
    
    According to the sysctl man page, the --system option causes sysctl to
    process all system configuration files, which include the following:
    
    /run/sysctl.d/*.conf
    /etc/sysctl.d/*.conf
    /usr/local/lib/sysctl.d/*.conf
    /usr/lib/sysctl.d/*.conf
    /lib/sysctl.d/*.conf
    /etc/sysctl.conf
    
    X-Gentoo-Bug: 484796
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=484796

commit 6a337ff6c531d9d7310253b67b3e95d1ce5d214c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    devfs: several small clarifications
    
    - Rename the static_dev switch in conf.d/devfs to skip_mount_dev since
      this is a better description of what the switch does.
    
    - Clarify the error messages in the devfs service script based on the
      new name of the switch.

commit 647e08eb9166d23d0c64f0c8767d93a06bd21a40
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    tmpfiles.sh: do not use install
    
    install is in /usr which causes problems if /usr is not mounted.
    Instead, checkpath and "mkdir -p" can do everything required and are
    both available before /usr is mounted.
    Since checkpath also handles selinux labels correctly,
    _restorecon after is not required.
    
    X-Gentoo-Bug: 503408
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=503408

commit 2624a8c8a7030180f9548a6e2fba5b0a82c5f046
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: apply ownership to all paths given on command line
    
    The stat structure was not being initialized correctly in do_check. This
    was causing the owner adjustment to be skipped if the first path had the
    correct owner.
    
    Also, the "correcting owner" message should always be printed when the
    owner is being changed.
    
    X-Gentoo-Bug: 518042
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=518042

commit 275714bdc74c363ca1612b2b6b97f74f7a62b50c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: style fix

commit e3bfb68aece9378a0669c2893285808100fd5ea6
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    hwclock: always set the kernel's timezone
    
    The hwclock service should set the time zone regardless of the setting
    of the clock_hctosys variable. This needs to be done to prevent issues
    when the system time is being synchronized using ntp.
    
    X-Gentoo-Bug: 434410
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=434410

commit 1f7582c78b2697c3f2617a4a89afabaf3550b0fb
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    src/librc/librc-daemon.c: style fix

commit cc1bc6a4cec772c50a1b5232655ff34370d204b1
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    src/rc/Makefile: typo fix

commit 40f42ced21b1c0c99780b801d28fafd91a858f90
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status: fix infinite  loop when using stacked runlevels
    
    Remove the recursive call in print_stacked_services which was causing an
    infinite loop when using stacked runlevels.
    I would like to thank Doug Freed and Jason Zaman for assisting with
    tracking this down.
    
    X-Gentoo-Bug: 514972
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=514972

commit 1a1d53335b2e6e3240b738ba1f81de64e552c337
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    devfs: fix restorecon ebegin message to match sys
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 99939b9839fb45093fe193e06139eab4a95637da
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    sysfs: restorecon after mounting /sys
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 89907b60bac51db2cda1afe4555676577ef498a8
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    move the selinux_setup function into rc-selinux
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit a94a9740d545817294cc431180db0f22fc923b13
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: style fixes

commit 8b8edc29705b843988b97242942a409241c182eb
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    style fixes

commit 010c2ab18b4be2068237cf0db97e9348bba65ac6
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Rename SELinux source files
    
    The name rc-selinux-util.* is a bit long, so I renamed the source files
    to rc-selinux.*
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 9c689542c3246e793310db938374bc97600435e6
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: restore the SELinux context
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 525d7140b12a8e259f9d919f24148e369e9ff7d1
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    devfs: fix SELinux contexts
    
    SELinux contexts in /dev need to be fixed after it is mounted
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 4f784bd46923486773edcd7749246a21bd419e6b
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    tmpfiles: set the proper SELinux context
    
    Restore the label on the created file / dir based on the policy
    fcontexts.
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 4a1afa694cd8ebd6591d5a825ee35e4f57c98469
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add SELinux support to the build system
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 25c229cf830c8e822a206f2e08f9c94964a47aa9
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    sysfs.in: fix indentation

commit 71d6d61b28c4c0f285ec51459551d900dfa4ea71
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: fix logic for the writable option
    
    The -W option does not need an argument of its own; it can take the
    first path after all other options are processed on the command line.
    
    Also, move the processing for the -W option out of the switch so it will
    be in the same loop as the other processing.

commit 40141244e349e6e1d2dfb9ebfbcbf62f68d33a9d
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    man/openrc-run.8: more updates and clarifications for checkpath
    
    X-Gentoo-Bug: 500606
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=500606

commit d59737afb159d993916836903d9e670a1334c93a
Author: Alexander V Vershilov <qnikst@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    man/openrc.8: update checkpath documentation
    
    X-GENTOO-BUG: 500606
    X-GENTOO-BUG-URL: https://bugs.gentoo.org/show_bug.cgi?id=500606

commit f66f41c4f03d8077bdaa047a7a93f6c92c0a69de
Author: Alexander V Vershilov <qnikst@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    typo fix

commit d80482c2f4ec35a880ee099eeb3983b255d65e8f
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: fix error message in previous commit

commit d0040aff0aa033fd5d5c40480008e98ee5e1f11a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: report an error if required options were not specified
    
    Before this commit, not specifying -d, -f, -p or -W in a checkpath
    command meant the command exited successfully but actually did nothing.
    
    This is an error condition, so report it as such.

commit 75e06d85584fc3ebfa26fbca97ea60b687247bb0
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Style Fixes

commit 1a44be0f16a7a1de8a176e7c656f8513494e0e64
Author: Alexander V Vershilov <qnikst@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    cgroups: only run cgroup setup when starting a service
    
    Status call should not set limits as it requires root permissions,
    also this is not safe, as current process may reach limitation.
    
    Solution is to set limits and move process to service cgroup only
    on start.
    
    X-GENTOO-BUG: 500364
    X-GENTOO-BUG-URL: https://bugs.gentoo.org/show_bug.cgi?id=500364

commit f265ddde971d0fdb97a4f14b4cc96140be7b4628
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    FEATURE_REMOVAL_SCHEDULE: add entry for local_start/stop

commit 57b9e601a97fac3a044ec5d7e5f11b6219c892b7
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    init.d/local: bring functioning more in line with how sysctl works
    
    - remove the has_executables variable since it isn't used.
    - Convert the conditional calls to ewend/vewend to a single call to veend.
    - Always call eend after all scripts are executed passing the appropriate
    error code.
    
    Because of this change, you will see only an overall status when
    starting or stopping local unless you are using verbose mode.

commit c1de8c09bf4895c6108d297fcebd63046e49e614
Author: Thomas D <whissi@whissi.de>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add support for verbose "local" service runscript
    
    With this patch, the "local" service runscript will be verbose like the
    "sysctl" service when 'rc_verbose="yes"' is set.
    
    Example output successful start:
    
     * Stopping local ...
     *   Executing "/etc/local.d/00will-stop.stop" ...                  [ ok ]
     * Starting local ...
     *   Executing "/etc/local.d/00will-start.start" ...                [ ok ]
     *   Executing "/etc/local.d/01 test.start" ...                     [ ok ]
    
    Example output with failing executables:
    
     * Stopping local ...
     *   Executing "/etc/local.d/00will-stop.stop" ...                  [ ok ]
     *   Executing "/etc/local.d/will-fail.stop" ...
    mount: can't find foo in /etc/fstab
     *   Execution of "/etc/local.d/will-fail.stop" failed.             [ !! ]
     * Starting local ...
     *   Executing "/etc/local.d/00will-start.start" ...                [ ok ]
     *   Executing "/etc/local.d/01 test.start" ...                     [ ok ]
     *   Executing "/etc/local.d/will-fail2.start" ...
    mount: can't find bar in /etc/fstab
     *   Execution of "/etc/local.d/will-fail2.start" failed.           [ !! ]
     *   Executing "/etc/local.d/will-fail.start" ...
    mount: can't find foo in /etc/fstab
     *   Execution of "/etc/local.d/will-fail.start" failed.            [ !! ]
    
    X-Gentoo-Bug: 489274
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=489274

commit 143f1c64c13e4930e3880a393b7253d6fbc0ed58
Author: Kaarle Ritvanen <kaarle.ritvanen@datakunkku.fi>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    sysctl.Linux.in: remove -lxc from keywords
    
    certain tunables can be set independently for each container
    
    X-Gentoo-Bug: 516050
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516050

commit b4b34d909c36898095a0036f90a328838137e3a4
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Schedule removal of the opts variable from service scripts

commit 56112a6f1f176696e5f39a86fe4b52017ccdd04c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    sysfs: Do not mount openrc cgroup if it is already mounted
    
    We were not checking to see if /sys/fs/cgroup/openrc was already mounted
    before we mounted it. This fixes that issue.
    Thanks to Robin Johnson <robbat2@gentoo.org> for pointing this out.

commit 09d81e86f210acf5270ea4bd0fa7319a49f88131
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Make history a separate document
    
    Move the additional history information from Daniel Robbins' wiki
    page along with the history from README to a separate file,
    README.history.
    
    X-Gentoo-Bug: 513024
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/513024

commit 23cb55d843b165d5508f330287ed329358fc85dc
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    man/start-stop-daemon.8: correct argument from --nice to --nicelevel
    
    X-Gentoo-Bug: 510648
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=510648

commit 094bc17cb0ad75da189ebf1a8242a378928a1eef
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    tmpfiles.sh: fix comment processing
    
    If you happened to format a comment with no white space after the '#',
    it was not being processed.
    
    Reported-by: consus@gmx.com
    X-Gentoo-Bug: 511804
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=511804

commit 6126700a0723efa4ef1e299da0f58498f742c3a1
Author: Sven Vermeulen <sven.vermeulen@siphos.be>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    SELinux filesystem is at /sys/fs/selinux
    
    The SELinux filesystem has been moved to /sys/fs/selinux for quite some
    time. We kept supporting /selinux for backwards compatibility, but it's
    time to move forward on this.
    
    X-Gentoo-Bug: 511718
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=511718
    Signed-off-by: Sven Vermeulen <sven.vermeulen@siphos.be>

commit 19cccb2e9416311b85fcad3c15d4d988fed2f954
Author: Robin H. Johnson <robbat2@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    sh/tmpfiles.sh: license under 2-clause BSD
    
    As the author of our tmpfiles.sh script, I hereby license it under
    2-clause BSD, like the rest of openrc.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 9eb9b28d3e3b6725559fb38101ae869c1e4530ce
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc: filter out container processes on OpenVZ host
    
    Thanks to info and testing done by Daniel Robbins <drobbins@funtoo.org>,
    there is now a fix for this. Below is his description of the steps
    OpenRC needed to use.
    
    1) See if /proc/<pid>/status exists
    2) If it does, see if it has a "envID:" field
    3) If it does, see if "envID:" is set to "0"
    4) If so, then it's one of the host's processes and should be a
    candidate for the list. Otherwise, it is one of the container's
    processes and should be ignored.
    
    This should fix the bug and allow start-stop-daemon to work properly on
    OpenVZ hosts.
    
    X-Gentoo-Bug: 376817
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=376817

commit a817915632f7f2162e7c3740d204989f6cfde554
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    README.busybox: document incompatibility with built-in ip applet

commit 20d7b83150b18b0eca550d9bb2e1d5fb0acbbd89
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    tmpfiles.dev: remove --remove option
    
    For compatibility with systemd.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 686ee62a79e12ad73581ef4e151baad21b624935
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Commit: Andrew Gregory <andrew.gregory.8@gmail.com>

    tmpfiles: add support for --boot option
    
    For compatibility with systemd-tmpfiles.
    
    Fixes #17
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit c081633762dc66235fe385eedcc2cdf6bff83391
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Commit: Andrew Gregory <andrew.gregory.8@gmail.com>

    tmpfiles: ignore all files starting with systemd-
    
    systemd recently moved creation of /run/nologin to systemd-nologin.conf
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit e0e1f2a4da376d9d05487ec23922c1ca356cbbc6
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc.conf: typo fix

commit 7fb209a6fc3512d3437bbb175853f1f01393b74d
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    conf.d/hwclock: typo fix

commit d0186d422c3bb75ac2977dfe7d1f8f97c3ce5c3b
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc.conf: document rc_nocolor setting
